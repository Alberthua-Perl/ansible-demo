2025-07-04 04:30:04,328 p=52274 u=devops n=ansible | Downloading http://content.example.com/jenkins-ci-plt/collections/ansible-posix-1.5.2.tar.gz to /home/devops/.ansible/tmp/ansible-local-52274tw6d8_ib/tmpt8yl1r_1/ansible-posix-1.5.2-c75ic3dy
2025-07-04 04:30:04,372 p=52274 u=devops n=ansible | Downloading http://content.example.com/jenkins-ci-plt/collections/community-general-9.5.7.tar.gz to /home/devops/.ansible/tmp/ansible-local-52274tw6d8_ib/tmpt8yl1r_1/community-general-9.5.7-axw1yjrl
2025-07-04 04:30:04,803 p=52274 u=devops n=ansible | Downloading http://content.example.com/jenkins-ci-plt/collections/community-mysql-3.12.0.tar.gz to /home/devops/.ansible/tmp/ansible-local-52274tw6d8_ib/tmpt8yl1r_1/community-mysql-3.12.0-4xhkl4yt
2025-07-04 04:30:04,832 p=52274 u=devops n=ansible | Starting galaxy collection install process
2025-07-04 04:30:04,832 p=52274 u=devops n=ansible | Process install dependency map
2025-07-04 04:30:04,833 p=52274 u=devops n=ansible | |
2025-07-04 04:30:04,934 p=52274 u=devops n=ansible | Starting collection install process
2025-07-04 04:30:04,935 p=52274 u=devops n=ansible | |
2025-07-04 04:30:05,039 p=52274 u=devops n=ansible | Installing 'ansible.posix:1.5.2' to '/home/devops/haproxy-lamp/collections/ansible_collections/ansible/posix'
2025-07-04 04:30:05,039 p=52274 u=devops n=ansible | ansible.posix:1.5.2 was installed successfully
2025-07-04 04:30:05,039 p=52274 u=devops n=ansible | Installing 'community.general:9.5.7' to '/home/devops/haproxy-lamp/collections/ansible_collections/community/general'
2025-07-04 04:30:05,039 p=52274 u=devops n=ansible | /
2025-07-04 04:30:05,140 p=52274 u=devops n=ansible | -
2025-07-04 04:30:05,241 p=52274 u=devops n=ansible | \
2025-07-04 04:30:05,346 p=52274 u=devops n=ansible | |
2025-07-04 04:30:05,447 p=52274 u=devops n=ansible | /
2025-07-04 04:30:05,548 p=52274 u=devops n=ansible | -
2025-07-04 04:30:05,651 p=52274 u=devops n=ansible | \
2025-07-04 04:30:05,752 p=52274 u=devops n=ansible | |
2025-07-04 04:30:05,854 p=52274 u=devops n=ansible | /
2025-07-04 04:30:05,955 p=52274 u=devops n=ansible | -
2025-07-04 04:30:06,056 p=52274 u=devops n=ansible | \
2025-07-04 04:30:06,157 p=52274 u=devops n=ansible | |
2025-07-04 04:30:06,258 p=52274 u=devops n=ansible | /
2025-07-04 04:30:06,359 p=52274 u=devops n=ansible | -
2025-07-04 04:30:06,460 p=52274 u=devops n=ansible | \
2025-07-04 04:30:06,561 p=52274 u=devops n=ansible | |
2025-07-04 04:30:06,663 p=52274 u=devops n=ansible | /
2025-07-04 04:30:06,764 p=52274 u=devops n=ansible | -
2025-07-04 04:30:06,866 p=52274 u=devops n=ansible | \
2025-07-04 04:30:06,966 p=52274 u=devops n=ansible | |
2025-07-04 04:30:07,068 p=52274 u=devops n=ansible | /
2025-07-04 04:30:07,170 p=52274 u=devops n=ansible | -
2025-07-04 04:30:07,270 p=52274 u=devops n=ansible | \
2025-07-04 04:30:07,372 p=52274 u=devops n=ansible | |
2025-07-04 04:30:07,472 p=52274 u=devops n=ansible | /
2025-07-04 04:30:07,574 p=52274 u=devops n=ansible | community.general:9.5.7 was installed successfully
2025-07-04 04:30:07,574 p=52274 u=devops n=ansible | Installing 'community.mysql:3.12.0' to '/home/devops/haproxy-lamp/collections/ansible_collections/community/mysql'
2025-07-04 04:30:07,575 p=52274 u=devops n=ansible | -
2025-07-04 04:30:07,675 p=52274 u=devops n=ansible | community.mysql:3.12.0 was installed successfully
2025-07-04 04:30:16,529 p=52280 u=devops n=ansible | # /home/devops/haproxy-lamp/collections/ansible_collections
Collection        Version
----------------- -------

2025-07-04 04:30:16,529 p=52280 u=devops n=ansible | ansible.posix     1.5.2  
2025-07-04 04:30:16,529 p=52280 u=devops n=ansible | community.general 9.5.7  
2025-07-04 04:30:16,529 p=52280 u=devops n=ansible | community.mysql   3.12.0 
2025-07-04 08:59:00,828 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 08:59:01,809 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 08:59:01,821 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 08:59:01,930 p=21 u=root n=ansible | fatal: [haproxy]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Warning: Permanently added 'serverc,172.25.250.12' (ECDSA) to the list of known hosts.\r\ndevops@serverc: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).", "unreachable": true}
2025-07-04 08:59:01,957 p=21 u=root n=ansible | fatal: [mariadb-server]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: Warning: Permanently added 'serverd,172.25.250.13' (ECDSA) to the list of known hosts.\r\ndevops@serverd: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).", "unreachable": true}
2025-07-04 08:59:03,506 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 08:59:03,524 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 08:59:03,544 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 08:59:04,521 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 08:59:04,551 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 08:59:05,383 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 08:59:05,410 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 08:59:05,448 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 08:59:05,455 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 08:59:05,466 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 08:59:06,465 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 08:59:06,496 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 08:59:06,513 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 08:59:07,731 p=21 u=root n=ansible | fatal: [webserver1]: FAILED! => {"changed": false, "failures": ["No package php-mysql available."], "msg": "Failed to install some of the specified packages", "rc": 1, "results": []}
2025-07-04 08:59:07,736 p=21 u=root n=ansible | fatal: [webserver2]: FAILED! => {"changed": false, "failures": ["No package php-mysql available."], "msg": "Failed to install some of the specified packages", "rc": 1, "results": []}
2025-07-04 08:59:07,737 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 08:59:07,738 p=21 u=root n=ansible | haproxy                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 08:59:07,738 p=21 u=root n=ansible | mariadb-server             : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 08:59:07,738 p=21 u=root n=ansible | webserver1                 : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 08:59:07,738 p=21 u=root n=ansible | webserver2                 : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:03:19,713 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:03:20,664 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:03:20,676 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:03:22,602 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:03:22,650 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:03:22,690 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:03:22,723 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:03:22,744 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 09:03:24,000 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 09:03:24,010 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 09:03:24,204 p=21 u=root n=ansible | changed: [mariadb-server] => (item=additional.repo)
2025-07-04 09:03:24,323 p=21 u=root n=ansible | changed: [haproxy] => (item=additional.repo)
2025-07-04 09:03:25,033 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 09:03:25,079 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 09:03:25,323 p=21 u=root n=ansible | changed: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 09:03:25,419 p=21 u=root n=ansible | changed: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 09:03:25,479 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:03:25,492 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:03:26,445 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:03:26,461 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 09:03:32,538 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 09:03:32,549 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 09:03:33,499 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 09:03:33,509 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 09:03:34,547 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 09:03:34,560 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 09:03:35,322 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 09:03:35,339 p=21 u=root n=ansible | RUNNING HANDLER [haproxy : restart_haproxy] **************************************************************************
2025-07-04 09:03:35,972 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 09:03:35,983 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:03:35,996 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:03:37,131 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:03:37,164 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:03:37,189 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 09:03:38,320 p=21 u=root n=ansible | fatal: [webserver1]: FAILED! => {"changed": false, "failures": ["No package php-mysql available."], "msg": "Failed to install some of the specified packages", "rc": 1, "results": []}
2025-07-04 09:03:38,382 p=21 u=root n=ansible | fatal: [webserver2]: FAILED! => {"changed": false, "failures": ["No package php-mysql available."], "msg": "Failed to install some of the specified packages", "rc": 1, "results": []}
2025-07-04 09:03:38,384 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:03:38,384 p=21 u=root n=ansible | haproxy                    : ok=8    changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:03:38,384 p=21 u=root n=ansible | mariadb-server             : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:03:38,385 p=21 u=root n=ansible | webserver1                 : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:03:38,385 p=21 u=root n=ansible | webserver2                 : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:07:09,698 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:07:10,666 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:07:10,678 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:07:12,644 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:12,664 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:07:12,675 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:07:12,677 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:07:12,697 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 09:07:13,974 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 09:07:13,990 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 09:07:14,003 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 09:07:14,080 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 09:07:15,032 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 09:07:15,043 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 09:07:15,072 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 09:07:15,104 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 09:07:15,165 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:07:15,176 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:07:16,135 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:16,152 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 09:07:17,307 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:17,317 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 09:07:18,127 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:18,137 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 09:07:18,939 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:18,947 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 09:07:19,658 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:07:19,685 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:07:19,694 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:07:20,675 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:07:20,706 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:07:20,726 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 09:07:23,845 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 09:07:23,868 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 09:07:23,880 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 09:07:24,913 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 09:07:24,921 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 09:07:24,932 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 09:07:25,617 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:07:25,781 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 09:07:25,790 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 09:07:26,477 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:07:26,537 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 09:07:26,570 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:07:26,588 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:07:27,562 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:07:27,578 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:07:43,804 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 09:07:43,813 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:07:46,431 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 09:07:46,443 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:07:47,060 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "A MySQL module is required: for Python 2.7 either PyMySQL, or MySQL-python, or for Python 3.X mysqlclient or PyMySQL. Consider setting ansible_python_interpreter to use the intended Python version."}
2025-07-04 09:07:47,062 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:07:47,062 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:07:47,063 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:07:47,063 p=21 u=root n=ansible | webserver1                 : ok=7    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:07:47,063 p=21 u=root n=ansible | webserver2                 : ok=7    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:09:54,601 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:09:55,589 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:09:55,601 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:09:57,538 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:09:57,554 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:09:57,568 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:09:57,570 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:09:57,588 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 09:09:58,866 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 09:09:58,875 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 09:09:58,892 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 09:09:58,952 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 09:09:59,940 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 09:09:59,949 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 09:09:59,987 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 09:10:00,006 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 09:10:00,063 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:10:00,074 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:10:01,039 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:10:01,060 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 09:10:02,117 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:10:02,127 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 09:10:02,923 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:10:02,933 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 09:10:03,747 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:10:03,757 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 09:10:04,473 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:10:04,499 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:10:04,510 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:10:05,501 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:10:05,521 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:10:05,541 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 09:10:06,866 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:10:06,927 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:10:06,937 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 09:10:07,828 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:10:07,831 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:10:07,839 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 09:10:08,511 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:10:08,512 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:10:08,523 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 09:10:09,187 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:10:09,198 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:10:09,232 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:10:09,268 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:10:10,217 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:10:10,235 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:10:12,609 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 09:10:12,618 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:10:13,211 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:10:13,221 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:10:13,822 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to find /root/.my.cnf. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:10:13,824 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:10:13,824 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:10:13,824 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:10:13,824 p=21 u=root n=ansible | webserver1                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:10:13,824 p=21 u=root n=ansible | webserver2                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:24:14,275 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:24:15,237 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:24:15,249 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:24:17,217 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:24:17,228 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:24:17,239 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:24:17,251 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:24:17,311 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:24:17,323 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:24:18,270 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:24:18,302 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:24:18,311 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:24:19,302 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:24:19,319 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:24:19,363 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:24:19,373 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:24:20,338 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:24:20,359 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:24:21,436 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:24:21,446 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:24:22,246 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:24:22,255 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:24:22,857 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 09:24:22,866 p=21 u=root n=ansible | TASK [mariadb : Create users in MariaDB] *****************************************************************************
2025-07-04 09:24:23,481 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:24:23,483 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:24:23,483 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:24:23,483 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:24:23,483 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:24:23,483 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:26:30,278 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:26:31,249 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:26:31,261 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:26:33,349 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:26:33,352 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:26:33,354 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:26:33,356 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:26:33,427 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:26:33,438 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:26:34,426 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:26:34,459 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:26:34,468 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:26:35,448 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:26:35,480 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:26:35,522 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:26:35,534 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:26:36,473 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:26:36,493 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:26:37,564 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:26:37,573 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:26:38,383 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:26:38,393 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:26:38,990 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:26:39,000 p=21 u=root n=ansible | TASK [mariadb : Create users in MariaDB] *****************************************************************************
2025-07-04 09:26:39,620 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:26:39,621 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:26:39,621 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:26:39,621 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:26:39,621 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:26:39,621 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:28:35,243 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:28:36,206 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:28:36,218 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:28:38,183 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:28:38,187 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:28:38,197 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:28:38,237 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:28:38,307 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:28:38,317 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:28:39,266 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:28:39,298 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:28:39,308 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:28:40,308 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:28:40,312 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:28:40,355 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:28:40,367 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:28:41,324 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:28:41,339 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:28:42,422 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:28:42,432 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:28:43,246 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:28:43,256 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:28:43,869 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:28:43,878 p=21 u=root n=ansible | TASK [mariadb : Create users in MariaDB] *****************************************************************************
2025-07-04 09:28:44,491 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:28:44,493 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:28:44,493 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:28:44,493 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:28:44,493 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:28:44,493 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:31:26,266 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:31:27,245 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:31:27,258 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:31:29,268 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:31:29,300 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:31:29,303 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:31:29,328 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:31:29,388 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:31:29,399 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:31:30,339 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:31:30,371 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:31:30,382 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:31:31,389 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:31:31,396 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:31:31,449 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:31:31,461 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:31:32,421 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:31:32,440 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:31:33,514 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:31:33,526 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:31:34,344 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:31:34,354 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:31:34,958 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:31:34,968 p=21 u=root n=ansible | TASK [mariadb : Create users in MariaDB] *****************************************************************************
2025-07-04 09:31:35,588 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:31:35,590 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:31:35,590 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:31:35,590 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:31:35,590 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:31:35,591 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:32:10,293 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:32:11,251 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:32:11,263 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:32:13,275 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:32:13,284 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:32:13,287 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:32:13,296 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:32:13,359 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:32:13,368 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:32:14,323 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:32:14,355 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:32:14,365 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:32:15,389 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:32:15,392 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:32:15,436 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:32:15,448 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:32:16,426 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:32:16,443 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:32:17,526 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:32:17,536 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:32:18,351 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:32:18,361 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:32:18,955 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:32:18,965 p=21 u=root n=ansible | TASK [mariadb : Create users in MariaDB] *****************************************************************************
2025-07-04 09:32:19,582 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:32:19,583 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:32:19,584 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:32:19,584 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:32:19,584 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:32:19,584 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:37:41,289 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:37:42,350 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:37:42,368 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:37:44,389 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:37:44,415 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:37:44,445 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:37:44,455 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:37:44,518 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:37:44,529 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:37:45,480 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:37:45,526 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:37:45,536 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:37:46,544 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:37:46,564 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:37:46,607 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:37:46,616 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:37:47,569 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:37:47,587 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:37:48,668 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:37:48,677 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:37:49,493 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:37:49,503 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:37:50,114 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:37:50,115 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:37:50,116 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:37:50,116 p=21 u=root n=ansible | mariadb-server             : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:37:50,116 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:37:50,116 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:38:52,230 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:38:53,193 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:38:53,206 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:38:55,155 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:38:55,204 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:38:55,207 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:38:55,211 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:38:55,267 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:38:55,279 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:38:56,229 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:38:56,262 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:38:56,276 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:38:57,307 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:38:57,309 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:38:57,352 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:38:57,363 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:38:58,306 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:38:58,323 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:38:59,394 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:38:59,403 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:39:00,216 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:39:00,226 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:39:00,833 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:39:00,834 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:39:00,834 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:39:00,834 p=21 u=root n=ansible | mariadb-server             : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:39:00,834 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:39:00,835 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:45:07,379 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 09:45:08,381 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 09:45:08,393 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:45:10,406 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:45:10,437 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:45:10,440 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:45:10,444 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:45:10,509 p=21 u=root n=ansible | PLAY [Deploy HAProxy] ************************************************************************************************
2025-07-04 09:45:10,520 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:45:11,483 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 09:45:11,515 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 09:45:11,526 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:45:12,532 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 09:45:12,551 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 09:45:12,597 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 09:45:12,607 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 09:45:13,577 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:45:13,593 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 09:45:14,700 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:45:14,713 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 09:45:15,539 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 09:45:15,549 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 09:45:16,157 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 09:45:16,159 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 09:45:16,159 p=21 u=root n=ansible | haproxy                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:45:16,159 p=21 u=root n=ansible | mariadb-server             : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 09:45:16,159 p=21 u=root n=ansible | webserver1                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 09:45:16,160 p=21 u=root n=ansible | webserver2                 : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 13:45:25,272 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 13:45:26,260 p=21 u=root n=ansible | ERROR! 'ansible.builtin.import_roles' is not a valid attribute for a Play

The error appears to be in '/home/devops/haproxy-lamp/site.yml': line 8, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Deploy HAProxy
  ^ here

2025-07-04 13:47:22,681 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 13:47:23,633 p=21 u=root n=ansible | ERROR! 'ansible.builtin.import_role' is not a valid attribute for a Play

The error appears to be in '/home/devops/haproxy-lamp/site.yml': line 8, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Deploy HAProxy
  ^ here

2025-07-04 13:48:11,504 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 13:48:12,445 p=21 u=root n=ansible | ERROR! 'ansible.builtin.include_role' is not a valid attribute for a Play

The error appears to be in '/home/devops/haproxy-lamp/site.yml': line 8, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Deploy HAProxy
  ^ here

2025-07-04 13:49:29,782 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 13:49:30,759 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 13:49:30,772 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 13:49:32,797 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 13:49:32,803 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 13:49:32,841 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:32,845 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:32,867 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 13:49:34,240 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 13:49:34,267 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 13:49:34,268 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 13:49:34,276 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 13:49:35,320 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 13:49:35,331 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 13:49:35,340 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 13:49:35,342 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 13:49:35,405 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 13:49:35,415 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 13:49:36,366 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 13:49:36,381 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 13:49:37,532 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 13:49:37,542 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 13:49:38,343 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 13:49:38,353 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 13:49:39,152 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 13:49:39,162 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 13:49:39,890 p=21 u=root n=ansible | changed: [haproxy]
2025-07-04 13:49:39,922 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 13:49:39,934 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 13:49:40,931 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:40,950 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:40,970 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 13:49:42,128 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:42,164 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:42,176 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 13:49:43,041 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:43,061 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:43,070 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 13:49:43,736 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:43,751 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:43,763 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 13:49:44,449 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 13:49:44,450 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 13:49:44,483 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 13:49:44,497 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 13:49:45,473 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 13:49:45,490 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 13:49:56,286 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 13:49:56,296 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 13:49:57,220 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 13:49:57,230 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 13:49:57,849 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "unable to connect to database, check login_user and login_password are correct or /root/.my.cnf has the credentials. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}
2025-07-04 13:49:57,851 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 13:49:57,851 p=21 u=root n=ansible | haproxy                    : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 13:49:57,851 p=21 u=root n=ansible | mariadb-server             : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 13:49:57,851 p=21 u=root n=ansible | webserver1                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 13:49:57,851 p=21 u=root n=ansible | webserver2                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:24:42,554 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:24:43,512 p=21 u=root n=ansible | ERROR! conflicting action statements: community.mysql.mysql_user, on_log

The error appears to be in '/home/devops/haproxy-lamp/roles/mariadb/tasks/main.yml': line 48, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Create users and set password if not present
  ^ here

2025-07-04 14:25:06,819 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:25:07,777 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 14:25:07,790 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:25:09,733 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:09,771 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:25:09,780 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:25:09,784 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:25:09,806 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 14:25:11,098 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 14:25:11,100 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 14:25:11,115 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 14:25:11,130 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 14:25:12,141 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 14:25:12,161 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 14:25:12,169 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 14:25:12,178 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 14:25:12,239 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 14:25:12,251 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:25:13,218 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:13,234 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 14:25:14,297 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:14,308 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 14:25:15,104 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:15,116 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 14:25:15,929 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:15,938 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 14:25:16,654 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:25:16,681 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 14:25:16,694 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:25:17,670 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:25:17,702 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:25:17,720 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 14:25:18,754 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:25:18,769 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:25:18,780 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 14:25:18,970 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'user'
2025-07-04 14:25:18,971 p=21 u=root n=ansible | fatal: [webserver1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'user'"}
2025-07-04 14:25:18,984 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'user'
2025-07-04 14:25:18,984 p=21 u=root n=ansible | fatal: [webserver2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'ansible.vars.hostvars.HostVarsVars object' has no attribute 'user'"}
2025-07-04 14:25:18,986 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 14:25:18,986 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:25:18,986 p=21 u=root n=ansible | mariadb-server             : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:25:18,986 p=21 u=root n=ansible | webserver1                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 14:25:18,987 p=21 u=root n=ansible | webserver2                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 14:26:25,522 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:26:26,489 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 14:26:26,503 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:26:28,423 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:28,437 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:28,454 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:28,472 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:28,495 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 14:26:29,755 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 14:26:29,762 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 14:26:29,771 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 14:26:29,832 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 14:26:30,821 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 14:26:30,836 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 14:26:30,857 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 14:26:30,879 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 14:26:30,939 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 14:26:30,950 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:26:31,906 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:31,923 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 14:26:32,965 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:32,976 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 14:26:33,764 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:33,773 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 14:26:34,578 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:34,587 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 14:26:35,293 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:26:35,318 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 14:26:35,331 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:26:36,367 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:36,370 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:36,386 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 14:26:37,484 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:37,565 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:37,575 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 14:26:38,417 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:38,433 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:38,443 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 14:26:39,067 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:39,126 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:39,136 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 14:26:39,815 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:26:39,827 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:26:39,865 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 14:26:39,876 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:26:40,882 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:40,898 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 14:26:41,853 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:41,863 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 14:26:42,837 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 14:26:42,847 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 14:26:43,423 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:43,432 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 14:26:44,088 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 14:26:44,098 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 14:26:44,731 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 14:26:44,731 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 14:26:44,741 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 14:26:45,243 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:45,252 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 14:26:45,850 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:26:45,862 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 14:26:46,356 p=21 u=root n=ansible | fatal: [mariadb-server]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (community.mysql.mysql_user) module: on_log. Supported parameters include: encrypted, append_privs, login_unix_socket, login_port, login_password, password_expire_interval, plugin_auth_string, plugin_hash_string, check_hostname, resource_limits, priv, ca_cert (ssl_ca), column_case_sensitive, salt, update_password, password_expire, client_cert (ssl_cert), client_key (ssl_key), tls_requires, plugin, connect_timeout, force_context, state, login_host, host_all, password, config_file, attributes, sql_log_bin, check_implicit_admin, session_vars, subtract_privs, login_user, host, name (user)."}
2025-07-04 14:26:46,358 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 14:26:46,358 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:26:46,358 p=21 u=root n=ansible | mariadb-server             : ok=10   changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 14:26:46,358 p=21 u=root n=ansible | webserver1                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:26:46,359 p=21 u=root n=ansible | webserver2                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:27:08,277 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:27:09,263 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 14:27:09,275 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:27:11,234 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:11,248 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:11,252 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:11,277 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:11,299 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 14:27:12,594 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 14:27:12,601 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 14:27:12,605 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 14:27:12,659 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 14:27:13,699 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 14:27:13,706 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 14:27:13,712 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 14:27:13,733 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 14:27:13,792 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 14:27:13,802 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:27:14,739 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:14,754 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 14:27:15,797 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:15,809 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 14:27:16,594 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:16,604 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 14:27:17,413 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:17,423 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 14:27:18,124 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:27:18,150 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 14:27:18,160 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:27:19,138 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:19,197 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:19,214 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 14:27:20,210 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:20,254 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:20,265 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 14:27:21,113 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:21,140 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:21,154 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 14:27:21,781 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:21,782 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:21,792 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 14:27:22,456 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:27:22,465 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:27:22,501 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 14:27:22,540 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:27:23,497 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:23,513 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 14:27:24,457 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:24,466 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 14:27:25,224 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:25,233 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 14:27:25,823 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:25,833 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 14:27:26,433 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:26,443 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 14:27:27,073 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 14:27:27,074 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:27,083 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 14:27:27,579 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:27,589 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 14:27:28,195 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:28,205 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 14:27:28,713 p=21 u=root n=ansible | changed: [mariadb-server]
2025-07-04 14:27:28,723 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 14:27:29,210 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:27:29,236 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 14:27:29,236 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:27:29,236 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:27:29,236 p=21 u=root n=ansible | webserver1                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:27:29,236 p=21 u=root n=ansible | webserver2                 : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:33:22,351 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:33:23,333 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 14:33:23,345 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:33:25,340 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:25,343 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:33:25,345 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:33:25,349 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:33:25,367 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 14:33:26,676 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 14:33:26,683 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 14:33:26,688 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 14:33:26,689 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 14:33:27,730 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 14:33:27,737 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 14:33:27,760 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 14:33:27,782 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 14:33:27,833 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 14:33:27,842 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:33:28,791 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:28,806 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 14:33:29,852 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:29,863 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 14:33:30,649 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:30,659 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 14:33:31,468 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:31,479 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 14:33:32,191 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:33:32,218 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 14:33:32,232 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:33:33,229 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:33:33,245 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:33:33,265 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 14:33:34,351 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:33:34,354 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:33:34,363 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 14:33:34,530 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ?>
2025-07-04 14:33:34,530 p=21 u=root n=ansible | fatal: [webserver1]: FAILED! => {"changed": false, "msg": "AnsibleError: template error while templating string: unexpected char '$' at 140. String: <?php\necho \"Show Databases List:\\n\";\n<?php foreach ({{ groups['database'] | tojson }} as $host): ?>\n    $link = mysqli_connect(\"{{ hostvars[$host].ansible_facts.default_ipv4.address }}\", \"{{ hostvars[$host].db_user }}\", \"{{ hostvars[$host].db_password }}\") or die(mysqli_connect_error($link));\n    $res = mysqli_query($link, \"SHOW DATABASES;\");\n    while ($row = mysqli_fetch_assoc($res)) {\n        echo \" \" . $row['Database'] . \"\\n\";\n    }\n<?php endforeach; ?>\n?>\n"}
2025-07-04 14:33:34,547 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ?>
2025-07-04 14:33:34,547 p=21 u=root n=ansible | fatal: [webserver2]: FAILED! => {"changed": false, "msg": "AnsibleError: template error while templating string: unexpected char '$' at 140. String: <?php\necho \"Show Databases List:\\n\";\n<?php foreach ({{ groups['database'] | tojson }} as $host): ?>\n    $link = mysqli_connect(\"{{ hostvars[$host].ansible_facts.default_ipv4.address }}\", \"{{ hostvars[$host].db_user }}\", \"{{ hostvars[$host].db_password }}\") or die(mysqli_connect_error($link));\n    $res = mysqli_query($link, \"SHOW DATABASES;\");\n    while ($row = mysqli_fetch_assoc($res)) {\n        echo \" \" . $row['Database'] . \"\\n\";\n    }\n<?php endforeach; ?>\n?>\n"}
2025-07-04 14:33:34,549 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 14:33:34,549 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:33:34,549 p=21 u=root n=ansible | mariadb-server             : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:33:34,549 p=21 u=root n=ansible | webserver1                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 14:33:34,549 p=21 u=root n=ansible | webserver2                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 14:38:47,680 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 14:38:48,644 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 14:38:48,657 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:38:50,630 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:38:50,662 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:50,666 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:38:50,683 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:38:50,706 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 14:38:52,032 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 14:38:52,041 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 14:38:52,046 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 14:38:52,049 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 14:38:53,096 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 14:38:53,103 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 14:38:53,139 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 14:38:53,161 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 14:38:53,213 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 14:38:53,222 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:38:54,203 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:54,220 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 14:38:55,270 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:55,282 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 14:38:56,083 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:56,093 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 14:38:56,912 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:56,923 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 14:38:57,660 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 14:38:57,693 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 14:38:57,703 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:38:58,710 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:38:58,723 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:38:58,739 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 14:38:59,757 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:38:59,788 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:38:59,799 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 14:39:00,865 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 14:39:00,876 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 14:39:00,888 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 14:39:01,535 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:39:01,538 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:39:01,546 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 14:39:02,232 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 14:39:02,233 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 14:39:02,266 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 14:39:02,279 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 14:39:03,289 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:03,310 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 14:39:04,261 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:04,271 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 14:39:05,033 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:05,043 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 14:39:05,631 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:05,642 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 14:39:06,258 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:06,268 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 14:39:06,908 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 14:39:06,909 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:06,921 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 14:39:07,411 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:07,420 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 14:39:08,026 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:08,035 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 14:39:08,540 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:08,550 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 14:39:09,045 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 14:39:09,069 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 14:39:09,069 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:39:09,069 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:39:09,069 p=21 u=root n=ansible | webserver1                 : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 14:39:09,069 p=21 u=root n=ansible | webserver2                 : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:40:09,346 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 15:40:10,307 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 15:40:10,320 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:40:12,279 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:12,283 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:12,286 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:12,294 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:12,314 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 15:40:13,628 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 15:40:13,630 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 15:40:13,638 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 15:40:13,650 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 15:40:14,657 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 15:40:14,695 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 15:40:14,719 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 15:40:14,724 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 15:40:14,779 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 15:40:14,788 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:40:15,753 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:15,770 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 15:40:16,816 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:16,826 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 15:40:17,621 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:17,633 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 15:40:18,454 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:18,465 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 15:40:19,169 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:40:19,195 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 15:40:19,205 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:40:20,207 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:20,223 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:20,240 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 15:40:21,321 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:21,326 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:21,336 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 15:40:22,185 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:22,189 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:22,198 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 15:40:22,811 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:22,829 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:22,838 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 15:40:23,508 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:40:23,522 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:40:23,533 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 15:40:24,766 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:40:24,830 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:40:25,890 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:40:25,918 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:40:25,957 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 15:40:25,970 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:40:26,927 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:26,943 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 15:40:27,895 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:27,905 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 15:40:28,654 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:28,663 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 15:40:29,242 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:29,251 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 15:40:29,861 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:29,871 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 15:40:30,538 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 15:40:30,538 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:30,548 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 15:40:31,057 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:31,068 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 15:40:31,679 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:31,689 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 15:40:32,195 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:32,205 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 15:40:32,690 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:40:32,714 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 15:40:32,714 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:40:32,715 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:40:32,715 p=21 u=root n=ansible | webserver1                 : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:40:32,715 p=21 u=root n=ansible | webserver2                 : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:45:42,205 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 15:45:43,184 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 15:45:43,196 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:45:45,161 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:45,183 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:45:45,192 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:45:45,195 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:45:45,215 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 15:45:46,448 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 15:45:46,456 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 15:45:46,457 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 15:45:46,459 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 15:45:47,483 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 15:45:47,493 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 15:45:47,505 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 15:45:47,519 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 15:45:47,583 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 15:45:47,592 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:45:48,549 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:48,565 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 15:45:49,609 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:49,618 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 15:45:50,417 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:50,426 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 15:45:51,237 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:51,246 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 15:45:51,955 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:45:51,985 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 15:45:51,996 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:45:52,999 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:45:53,004 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:45:53,023 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 15:45:54,016 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:45:54,042 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:45:54,055 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 15:45:55,113 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 15:45:55,119 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 15:45:55,133 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 15:45:55,755 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:45:55,818 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:45:55,828 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 15:45:56,495 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:45:56,522 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:45:56,539 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 15:45:57,755 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:45:57,762 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:45:58,825 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:45:58,832 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:45:58,867 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 15:45:58,879 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:45:59,859 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:45:59,875 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 15:46:00,831 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:00,840 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 15:46:01,611 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:01,621 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 15:46:02,206 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:02,216 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 15:46:02,811 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:02,821 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 15:46:03,455 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 15:46:03,456 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:03,465 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 15:46:03,966 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:03,975 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 15:46:04,580 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:04,590 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 15:46:05,102 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:05,112 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 15:46:05,603 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:46:05,627 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 15:46:05,628 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:46:05,628 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:46:05,628 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:46:05,628 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:49:39,071 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 15:49:40,040 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 15:49:40,054 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:49:42,010 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:42,014 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:42,025 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:42,039 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:42,066 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 15:49:43,313 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 15:49:43,337 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 15:49:43,338 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 15:49:43,368 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 15:49:44,329 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 15:49:44,408 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 15:49:44,419 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 15:49:44,423 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 15:49:44,482 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 15:49:44,492 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:49:45,435 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:45,451 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 15:49:46,481 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:46,492 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 15:49:47,287 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:47,297 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 15:49:48,106 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:48,115 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 15:49:48,831 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:49:48,859 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 15:49:48,871 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:49:49,872 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:49,882 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:49,905 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 15:49:50,901 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:50,937 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:50,953 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 15:49:51,781 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:51,810 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:51,821 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 15:49:52,472 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:52,503 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:52,518 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 15:49:53,176 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:49:53,196 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:49:53,208 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 15:49:54,455 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:49:54,483 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:49:55,506 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:49:55,562 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:49:55,602 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 15:49:55,614 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:49:56,580 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:56,597 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 15:49:57,561 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:57,570 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 15:49:58,332 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:58,341 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 15:49:58,950 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:58,959 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 15:49:59,572 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:49:59,585 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 15:50:00,227 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 15:50:00,228 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:50:00,238 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 15:50:00,738 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:50:00,748 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 15:50:01,359 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:50:01,370 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 15:50:01,875 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:50:01,888 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 15:50:02,383 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:50:02,409 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 15:50:02,409 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:50:02,410 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:50:02,410 p=21 u=root n=ansible | webserver1                 : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:50:02,410 p=21 u=root n=ansible | webserver2                 : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:58:11,410 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 15:58:12,401 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 15:58:12,413 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:58:14,360 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:14,368 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:58:14,371 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:58:14,379 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:14,400 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 15:58:15,651 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 15:58:15,665 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 15:58:15,685 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 15:58:15,720 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 15:58:16,710 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 15:58:16,711 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 15:58:16,741 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 15:58:16,771 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 15:58:16,829 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 15:58:16,839 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:58:17,813 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:17,829 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 15:58:18,878 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:18,888 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 15:58:19,682 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:19,691 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 15:58:20,505 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:20,514 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 15:58:21,220 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 15:58:21,246 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 15:58:21,257 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:58:22,265 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:58:22,269 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:58:22,287 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 15:58:23,416 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:58:23,429 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:58:23,440 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 15:58:24,486 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 15:58:24,490 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 15:58:24,499 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 15:58:25,157 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:58:25,182 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:58:25,193 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 15:58:25,834 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 15:58:25,883 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 15:58:25,896 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 15:58:27,092 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:58:27,104 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 15:58:28,144 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:58:28,157 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 15:58:28,194 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 15:58:28,207 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 15:58:29,153 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:29,171 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 15:58:30,131 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:30,141 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 15:58:30,910 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:30,919 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 15:58:31,503 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:31,512 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 15:58:32,104 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:32,113 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 15:58:32,752 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 15:58:32,753 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:32,763 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 15:58:33,254 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:33,264 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 15:58:33,881 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:33,890 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 15:58:34,393 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:34,402 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 15:58:34,891 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 15:58:34,917 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 15:58:34,917 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:58:34,917 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:58:34,918 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 15:58:34,918 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:13:43,725 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:13:44,699 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:13:44,711 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:13:46,682 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:13:46,693 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:13:46,714 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:46,718 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:13:46,741 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:13:48,018 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:13:48,026 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:13:48,031 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:13:48,045 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:13:49,042 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:13:49,087 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:13:49,113 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:13:49,133 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:13:49,193 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:13:49,204 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:13:50,151 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:50,166 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:13:51,225 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:51,235 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:13:52,032 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:52,042 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:13:52,857 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:52,867 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:13:53,581 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:13:53,608 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:13:53,619 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:13:54,636 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:13:54,641 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:13:54,657 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:13:55,705 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:13:55,738 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:13:55,749 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:13:55,935 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'db_user' is undefined
2025-07-04 16:13:55,936 p=21 u=root n=ansible | fatal: [webserver1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'db_user' is undefined"}
2025-07-04 16:13:55,941 p=21 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: 'db_user' is undefined
2025-07-04 16:13:55,941 p=21 u=root n=ansible | fatal: [webserver2]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'db_user' is undefined"}
2025-07-04 16:13:55,943 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:13:55,943 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:13:55,943 p=21 u=root n=ansible | mariadb-server             : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:13:55,943 p=21 u=root n=ansible | webserver1                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 16:13:55,943 p=21 u=root n=ansible | webserver2                 : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-04 16:15:27,549 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:15:28,524 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:15:28,536 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:15:30,477 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:15:30,484 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:30,492 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:15:30,506 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:30,527 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:15:31,784 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:15:31,789 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:15:31,812 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:15:31,824 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:15:32,876 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:15:32,892 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:15:32,909 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:15:32,922 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:15:32,986 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:15:32,996 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:15:33,960 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:33,981 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:15:35,032 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:35,041 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:15:35,839 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:35,849 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:15:36,658 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:36,668 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:15:37,389 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:15:37,414 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:15:37,424 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:15:38,426 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:15:38,436 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:15:38,452 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:15:39,492 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:15:39,502 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:15:39,512 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:15:40,611 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:15:40,611 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:15:40,621 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:15:41,288 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:15:41,306 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:15:41,317 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:15:41,945 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:15:41,991 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:15:42,002 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:15:43,226 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:15:43,232 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:15:44,281 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:15:44,341 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:15:44,375 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:15:44,386 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:15:45,347 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:45,364 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:15:46,314 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:46,324 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:15:47,085 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:47,095 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:15:47,687 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:47,696 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:15:48,317 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:48,326 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:15:48,968 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:15:48,968 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:48,977 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:15:49,476 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:49,486 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:15:50,084 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:50,093 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:15:50,609 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:50,618 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:15:51,111 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:15:51,136 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:15:51,137 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:15:51,137 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:15:51,137 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:15:51,137 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:17:12,838 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:17:13,816 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:17:13,827 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:17:15,803 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:15,806 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:17:15,824 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:17:15,827 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:15,851 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:17:17,063 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:17:17,142 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:17:17,150 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:17:18,013 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:17:18,075 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:17:18,139 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:17:18,166 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:17:18,832 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:17:18,889 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:17:18,899 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:17:19,850 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:19,866 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:17:20,907 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:20,919 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:17:21,711 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:21,721 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:17:22,527 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:22,537 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:17:23,238 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:17:23,263 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:17:23,273 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:17:24,248 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:17:24,295 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:17:24,313 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:17:25,337 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:17:25,342 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:17:25,352 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:17:26,443 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:17:26,444 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:17:26,454 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:17:27,103 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:17:27,118 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:17:27,129 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:17:27,777 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:17:27,812 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:17:27,823 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:17:28,976 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:17:28,995 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:17:30,056 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:17:30,097 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:17:30,139 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:17:30,152 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:17:31,117 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:31,137 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:17:32,095 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:32,105 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:17:32,877 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:32,887 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:17:33,486 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:33,495 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:17:34,115 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:34,125 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:17:34,758 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:17:34,758 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:34,768 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:17:35,278 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:35,289 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:17:35,899 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:35,908 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:17:36,411 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:36,421 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:17:36,917 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:17:36,947 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:17:36,947 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:17:36,947 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:17:36,947 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:17:36,947 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:22:43,688 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:22:44,663 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:22:44,675 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:22:46,630 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:22:46,640 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:46,661 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:22:46,681 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:22:46,701 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:22:47,975 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:22:47,977 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:22:47,980 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:22:48,024 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:22:49,019 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:22:49,063 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:22:49,066 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:22:49,071 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:22:49,138 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:22:49,148 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:22:50,096 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:50,114 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:22:51,164 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:51,174 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:22:51,978 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:51,988 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:22:52,797 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:52,807 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:22:53,541 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:22:53,572 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:22:53,582 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:22:54,602 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:22:54,621 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:22:54,640 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:22:55,704 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:22:55,706 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:22:55,716 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:22:56,785 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:22:56,787 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:22:56,797 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:22:57,442 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:22:57,468 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:22:57,480 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:22:58,118 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:22:58,123 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:22:58,132 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:22:59,298 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:22:59,304 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:23:00,382 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:23:00,385 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:23:00,425 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:23:00,439 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:23:01,399 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:01,417 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:23:02,384 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:02,397 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:23:03,155 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:03,164 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:23:03,752 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:03,761 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:23:04,360 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:04,369 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:23:05,013 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:23:05,013 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:05,023 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:23:05,518 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:05,527 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:23:06,134 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:06,144 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:23:06,653 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:06,663 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:23:07,154 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:23:07,183 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:23:07,184 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:23:07,184 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:23:07,184 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:23:07,184 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:24:48,452 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:24:49,444 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:24:49,456 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:24:51,402 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:24:51,421 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:24:51,438 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:51,445 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:24:51,465 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:24:52,718 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:24:52,724 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:24:52,768 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:24:52,783 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:24:53,799 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:24:53,801 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:24:53,835 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:24:53,837 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:24:53,901 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:24:53,911 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:24:54,874 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:54,890 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:24:55,940 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:55,952 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:24:56,744 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:56,754 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:24:57,559 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:57,568 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:24:58,293 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:24:58,319 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:24:58,329 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:24:59,330 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:24:59,349 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:24:59,367 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:25:00,462 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:25:00,469 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:25:00,481 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:25:01,561 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:25:01,566 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:25:01,575 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:25:02,238 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:25:02,239 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:25:02,252 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:25:02,887 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:25:02,938 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:25:02,950 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:25:04,142 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:25:04,152 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:25:05,206 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:25:05,223 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:25:05,261 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:25:05,273 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:25:06,244 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:06,260 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:25:07,211 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:07,220 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:25:07,986 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:07,995 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:25:08,579 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:08,588 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:25:09,185 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:09,194 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:25:09,824 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:25:09,824 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:09,833 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:25:10,324 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:10,333 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:25:10,931 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:10,940 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:25:11,437 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:11,446 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:25:11,935 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:25:11,960 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:25:11,960 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:25:11,960 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:25:11,960 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:25:11,960 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:26:38,479 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:26:39,465 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:26:39,477 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:26:41,444 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:26:41,451 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:41,482 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:26:41,493 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:41,517 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:26:42,784 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:26:42,814 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:26:42,827 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:26:42,856 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:26:43,832 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:26:43,908 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:26:43,934 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:26:43,941 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:26:43,994 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:26:44,005 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:26:44,943 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:44,960 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:26:46,008 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:46,017 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:26:46,815 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:46,824 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:26:47,635 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:47,644 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:26:48,354 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:26:48,386 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:26:48,398 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:26:49,389 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:26:49,392 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:26:49,409 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:26:50,485 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:26:50,486 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:26:50,495 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:26:51,555 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:26:51,556 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:26:51,565 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:26:52,228 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:26:52,235 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:26:52,244 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:26:52,912 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:26:52,966 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:26:52,976 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:26:54,219 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:26:54,226 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:26:55,290 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:26:55,310 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:26:55,349 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:26:55,361 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:26:56,334 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:56,351 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:26:57,306 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:57,316 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:26:58,075 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:58,086 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:26:58,666 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:58,676 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:26:59,292 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:59,301 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:26:59,935 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:26:59,936 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:26:59,946 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:27:00,455 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:27:00,466 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:27:01,069 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:27:01,079 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:27:01,605 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:27:01,614 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:27:02,104 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:27:02,130 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:27:02,130 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:27:02,130 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:27:02,130 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:27:02,130 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:27:51,217 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:27:52,192 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:27:52,204 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:27:54,167 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:27:54,174 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:27:54,184 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:27:54,187 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:27:54,206 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:27:55,514 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:27:55,520 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:27:55,545 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:27:55,551 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:27:56,565 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:27:56,594 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:27:56,599 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:27:56,610 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:27:56,674 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:27:56,683 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:27:57,635 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:27:57,652 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:27:58,695 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:27:58,704 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:27:59,498 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:27:59,510 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:28:00,347 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:28:00,356 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:28:01,073 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:28:01,099 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:28:01,115 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:28:02,105 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:28:02,137 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:28:02,159 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:28:03,219 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:28:03,223 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:28:03,233 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:28:04,308 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:28:04,327 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:28:04,336 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:28:05,016 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:28:05,020 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:28:05,029 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:28:05,691 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:28:05,711 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:28:05,721 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:28:06,929 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:28:06,930 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:28:08,010 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:28:08,024 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:28:08,062 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:28:08,072 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:28:09,043 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:09,061 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:28:10,015 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:10,025 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:28:10,787 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:10,797 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:28:11,381 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:11,391 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:28:12,003 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:12,013 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:28:12,651 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:28:12,651 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:12,661 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:28:13,154 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:13,166 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:28:13,778 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:13,788 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:28:14,292 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:14,302 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:28:14,789 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:28:14,813 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:28:14,813 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:28:14,814 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:28:14,814 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:28:14,814 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:30:08,564 p=16 u=root n=ansible | {"/home/devops/haproxy-lamp/collections/ansible_collections": {"ansible.posix": {"version": "1.5.2"}, "community.general": {"version": "9.5.7"}, "community.mysql": {"version": "3.12.0"}}}
2025-07-04 16:30:09,552 p=21 u=root n=ansible | PLAY [Init base environment for all hosts] ***************************************************************************
2025-07-04 16:30:09,566 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:30:11,572 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:30:11,587 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:11,593 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:11,598 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:30:11,618 p=21 u=root n=ansible | TASK [base : Synchronize dnf repo files] *****************************************************************************
2025-07-04 16:30:12,850 p=21 u=root n=ansible | ok: [webserver2] => (item=additional.repo)
2025-07-04 16:30:12,863 p=21 u=root n=ansible | ok: [webserver1] => (item=additional.repo)
2025-07-04 16:30:12,877 p=21 u=root n=ansible | ok: [mariadb-server] => (item=additional.repo)
2025-07-04 16:30:12,898 p=21 u=root n=ansible | ok: [haproxy] => (item=additional.repo)
2025-07-04 16:30:13,892 p=21 u=root n=ansible | ok: [webserver2] => (item=rhel_dvd.repo)
2025-07-04 16:30:13,900 p=21 u=root n=ansible | ok: [webserver1] => (item=rhel_dvd.repo)
2025-07-04 16:30:13,952 p=21 u=root n=ansible | ok: [haproxy] => (item=rhel_dvd.repo)
2025-07-04 16:30:13,957 p=21 u=root n=ansible | ok: [mariadb-server] => (item=rhel_dvd.repo)
2025-07-04 16:30:14,014 p=21 u=root n=ansible | PLAY [Deploy HAProxy server] *****************************************************************************************
2025-07-04 16:30:14,024 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:30:15,989 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:16,006 p=21 u=root n=ansible | TASK [haproxy : Install HAProxy package] *****************************************************************************
2025-07-04 16:30:17,043 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:17,053 p=21 u=root n=ansible | TASK [haproxy : Transfer haproxy.cfg] ********************************************************************************
2025-07-04 16:30:17,862 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:17,871 p=21 u=root n=ansible | TASK [haproxy : Start HAProxy service] *******************************************************************************
2025-07-04 16:30:18,693 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:18,702 p=21 u=root n=ansible | TASK [haproxy : Allow HAProxy service through firewalld] *************************************************************
2025-07-04 16:30:19,441 p=21 u=root n=ansible | ok: [haproxy]
2025-07-04 16:30:19,469 p=21 u=root n=ansible | PLAY [Deploy Apache HTTPD Server and PHP] ****************************************************************************
2025-07-04 16:30:19,479 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:30:20,476 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:30:20,506 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:30:20,524 p=21 u=root n=ansible | TASK [apache-php : Install Apache HTTPD and PHP package] *************************************************************
2025-07-04 16:30:21,577 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:30:21,601 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:30:21,613 p=21 u=root n=ansible | TASK [apache-php : Transfer index.php.j2] ****************************************************************************
2025-07-04 16:30:22,741 p=21 u=root n=ansible | changed: [webserver1]
2025-07-04 16:30:22,742 p=21 u=root n=ansible | changed: [webserver2]
2025-07-04 16:30:22,751 p=21 u=root n=ansible | TASK [apache-php : Apache HTTPD service status] **********************************************************************
2025-07-04 16:30:23,368 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:30:23,403 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:30:23,414 p=21 u=root n=ansible | TASK [apache-php : Allow Apache HTTPD service through firewalld] *****************************************************
2025-07-04 16:30:24,107 p=21 u=root n=ansible | ok: [webserver1]
2025-07-04 16:30:24,130 p=21 u=root n=ansible | ok: [webserver2]
2025-07-04 16:30:24,141 p=21 u=root n=ansible | TASK [apache-php : Setup selinux boolean to connect database] ********************************************************
2025-07-04 16:30:25,301 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:30:25,316 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect on)
2025-07-04 16:30:26,376 p=21 u=root n=ansible | changed: [webserver1] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:30:26,404 p=21 u=root n=ansible | changed: [webserver2] => (item=setsebool -P httpd_can_network_connect_db on)
2025-07-04 16:30:26,440 p=21 u=root n=ansible | PLAY [Deploy MariaDB Server] *****************************************************************************************
2025-07-04 16:30:26,453 p=21 u=root n=ansible | TASK [Gathering Facts] ***********************************************************************************************
2025-07-04 16:30:27,411 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:27,427 p=21 u=root n=ansible | TASK [mariadb : Install MariaDB server package] **********************************************************************
2025-07-04 16:30:28,371 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:28,380 p=21 u=root n=ansible | TASK [mariadb : Transfer .my.cnf config file for root] ***************************************************************
2025-07-04 16:30:29,152 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:29,161 p=21 u=root n=ansible | TASK [mariadb : Start MariaDB server] ********************************************************************************
2025-07-04 16:30:29,745 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:29,753 p=21 u=root n=ansible | TASK [mariadb : Allow MariaDB server through firewalld] **************************************************************
2025-07-04 16:30:30,360 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:30,370 p=21 u=root n=ansible | TASK [mariadb : Assign password to MariaDB root user] ****************************************************************
2025-07-04 16:30:31,007 p=21 u=root n=ansible | [WARNING]: Option column_case_sensitive is not provided. The default is now false, so the column's name will be
uppercased. The default will be changed to true in community.mysql 4.0.0.

2025-07-04 16:30:31,007 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:31,017 p=21 u=root n=ansible | TASK [mariadb : Remove anonymous user accounts] **********************************************************************
2025-07-04 16:30:31,514 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:31,523 p=21 u=root n=ansible | TASK [mariadb : Remove test database] ********************************************************************************
2025-07-04 16:30:32,130 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:32,142 p=21 u=root n=ansible | TASK [mariadb : Create users and set password if not present] ********************************************************
2025-07-04 16:30:32,657 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:32,667 p=21 u=root n=ansible | TASK [mariadb : Create database in MariaDB] **************************************************************************
2025-07-04 16:30:33,157 p=21 u=root n=ansible | ok: [mariadb-server]
2025-07-04 16:30:33,181 p=21 u=root n=ansible | PLAY RECAP ***********************************************************************************************************
2025-07-04 16:30:33,182 p=21 u=root n=ansible | haproxy                    : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:30:33,182 p=21 u=root n=ansible | mariadb-server             : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:30:33,182 p=21 u=root n=ansible | webserver1                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-04 16:30:33,182 p=21 u=root n=ansible | webserver2                 : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
